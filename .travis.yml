# Travis CI build file for Swift-Kuery-PostreSQL.
# Swift-Kuery-PostreSQL runs on OS X and Linux (Ubuntu).
# See the following URLs for further details on Travis CI
# https://docs.travis-ci.com/user/customizing-the-build/
# https://docs.travis-ci.com/user/docker/
# https://docs.travis-ci.com/user/multi-os/

# whitelist (branches that should be built)
branches:
  only:
    - master
    - /^issue.*$/

notifications:
  slack:
    secure: "QK52o+lgEMNY1LtwvQn+Npxn5v8Oz3N4DWNXu0d7PB+10KZ5kIGcqCloaMC7GVVURmpuFdsJS3R8NGn9XVjKy/rxfZisR019jT3Zu6YmmEmTXH5G5gYZlTKyWFGK+yECLbZ1ppj3boswEhXLqqPGUkOkUUyeg3S7wIEx4eeNUMREs+USqefS+jC5Sfq8Pg4dtX27sQk+bZcByppL5UpcBd7Ex/6xhWGMnJ4Sna7/WKcwLHIOGaJVd4fDg1JR4h+OLPvfdprGI0TbDY35Kd+QeBreWFNpGkgxBvlvV/HIV2kIgW3QN6IHUKwVnA3k0hrHmxhfk9u9M8H5HV4bjR7bpJNKjvFf5KE7xJcJXJ4H7+QLB8C20tFDwtWawpj8x/DR+F+kx2KMvGL7AODCZOybyXrbrKy1MXp/JZ5dGfb6cPtcJruPnYBgiJ/vA6As6lLHL8EAatOMJpbQbO/VNoXvT+aR3iT7wbJh7DCSvBqUwUzSTiAtjFLKkg7g+cEzPROoFK+Fex/UopLgWMgh3P/dMsxVigUj27xdStgNwTKUOEFKs3LinFj8ZSIDUpgZ29TV0U8ytM9gO4pyDblibU2uofzLKviHges95uODiLq/BKEM/ebDNQWVKd+NWizfhkJc6O2sBuON7BaZMytH9qg98NAYRxvPTOYkAyvHTf6EFDM="

matrix:
  include:
    - os: linux
      dist: trusty
      sudo: required
    - os: osx
      osx_image: xcode8.1
      sudo: required

before_install:
  - git clone https://github.com/IBM-Swift/Package-Builder.git

script:
  - ./Package-Builder/build-package.sh -projectDir $TRAVIS_BUILD_DIR

services:
  - postgresql

before_script:
  - export PGPASSWORD=kitura
  
